tag_info:
  target_type: 'aprilgrid'
  tagCols: 6
  tagRows: 6
  tagSize: 0.055
  tagSpacing: 0.3 # this is a ratio of tagSize

# 标定结果输出目录（会自动创建）
result_path: /Users/xddcore/peize/MultiCameraCalibration/tron_stereo_results

# 全局覆盖筛选配置（控制进入标定的帧）
coverage_filter:
  enable: true              # 是否启用覆盖驱动的帧筛选
  added_ratio_thresh: 0.01  # 本帧相对自身棋盘区域的新覆盖比例小于该值则丢弃
  grid_downsample: 1        # 覆盖统计下采样因子，2 表示按 2x2 像素一格

# 相机相关配置：可以配置多路相机
camera_info:
  cameras:
    - camera_id: 0
      camera_model: 'pinhole'    # 'omni' or 'pinhole'
      image_path: /Users/xddcore/peize/MultiCameraCalibration/test_data/tron_stereo/cam0     # 这里填：/home/nvidia/workspace/MultiCameraCalibration/20251128_173034_582/cam0
      sub_pix_predict: False  # 对 omni 相机：是否开启基于粗内参的预测 + 亚像素优化 + 重标定
    - camera_id: 1
      camera_model: 'pinhole'    # 'omni' or 'pinhole'
      image_path: /Users/xddcore/peize/MultiCameraCalibration/test_data/tron_stereo/cam1       # 这里填：/home/nvidia/workspace/MultiCameraCalibration/20251128_173034_582/cam1
      sub_pix_predict: False  # 对 omni 相机：是否开启基于粗内参的预测 + 亚像素优化 + 重标定

# 外参标定相关配置
extrinsic_info:
  enable: True               # true 开启相机间外参标定
  base_camera_id: 0           # 以哪一路相机为基准坐标系
  method: opencv
  camera_pairs:               # 用户提供有共视的相机对
    - [0, 1]
  loop_optimization: false    # 多相机围成一圈时，可作为后续“环路约束”优化开启开关（暂未实现）
  save_worst_frames: true
  worst_k: 8
opencv_criteria:
  max_iter: 500
  eps: 1e-9

# 重投影误差热力图可视化（全局）
reprojection_heatmap:
  enable: true
  radius: 6            # 像素：每个点“涂抹”半径，越大越像热力图
  clip_percentile: 99  # 颜色条上限使用误差分位数（避免极端离群点撑爆色域）
  alpha: 0.45          # 热力图叠加透明度
  save_worst_frames: true  # true: 额外保存误差最大的若干帧的投影对齐可视化
  worst_k: 8               # 保存多少帧

blur_filter:
  enable: true
  laplacian_var_thresh: 100.0